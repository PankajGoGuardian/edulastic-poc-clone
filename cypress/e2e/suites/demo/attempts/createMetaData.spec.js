import { getStudents } from "./getStudents";
import { getTestData } from "./getTestData";
import { loginUser } from "./login";

// const allTeachers = ["teacher.spr@edulastic.com"];

/* const allTeachers = ["t351@v2demo.com",
"t352@v2demo.com",
"t353@v2demo.com",
"t354@v2demo.com",
"t355@v2demo.com",
"t356@v2demo.com",
"t357@v2demo.com",
"t358@v2demo.com",
"t359@v2demo.com",
"t360@v2demo.com"
];
 */
const allTeachers = [
  "t551@v2demo.com",
  "t552@v2demo.com",
  "t553@v2demo.com",
  "t554@v2demo.com",
  "t555@v2demo.com",
  "t556@v2demo.com",
  "t557@v2demo.com",
  "t558@v2demo.com",
  "t559@v2demo.com",
  "t560@v2demo.com",
  "t561@v2demo.com",
  "t562@v2demo.com",
  "t563@v2demo.com",
  "t564@v2demo.com",
  "t565@v2demo.com",
  "t566@v2demo.com",
  "t567@v2demo.com",
  "t568@v2demo.com",
  "t569@v2demo.com",
  "t570@v2demo.com",
  "t571@v2demo.com",
  "t572@v2demo.com",
  "t573@v2demo.com",
  "t574@v2demo.com",
  "t575@v2demo.com",
  "t576@v2demo.com",
  "t577@v2demo.com",
  "t578@v2demo.com",
  "t579@v2demo.com",
  "t580@v2demo.com",
  "t581@v2demo.com",
  "t582@v2demo.com",
  "t583@v2demo.com",
  "t584@v2demo.com",
  "t585@v2demo.com",
  "t586@v2demo.com",
  "t587@v2demo.com",
  "t588@v2demo.com",
  "t589@v2demo.com",
  "t590@v2demo.com",
  "t591@v2demo.com",
  "t592@v2demo.com",
  "t593@v2demo.com",
  "t594@v2demo.com",
  "t595@v2demo.com",
  "t596@v2demo.com",
  "t597@v2demo.com",
  "t598@v2demo.com",
  "t599@v2demo.com",
  "t600@v2demo.com",
  "t601@v2demo.com",
  "t602@v2demo.com",
  "t603@v2demo.com",
  "t604@v2demo.com",
  "t605@v2demo.com",
  "t606@v2demo.com",
  "t607@v2demo.com",
  "t608@v2demo.com",
  "t609@v2demo.com",
  "t610@v2demo.com",
  "t611@v2demo.com",
  "t612@v2demo.com",
  "t613@v2demo.com",
  "t614@v2demo.com",
  "t615@v2demo.com",
  "t616@v2demo.com",
  "t617@v2demo.com",
  "t618@v2demo.com",
  "t619@v2demo.com",
  "t620@v2demo.com",
  "t621@v2demo.com",
  "t622@v2demo.com",
  "t623@v2demo.com",
  "t624@v2demo.com",
  "t625@v2demo.com",
  "t626@v2demo.com",
  "t627@v2demo.com",
  "t628@v2demo.com",
  "t629@v2demo.com",
  "t630@v2demo.com",
  "t631@v2demo.com",
  "t632@v2demo.com",
  "t633@v2demo.com",
  "t634@v2demo.com",
  "t635@v2demo.com",
  "t636@v2demo.com",
  "t637@v2demo.com",
  "t638@v2demo.com",
  "t639@v2demo.com",
  "t640@v2demo.com",
  "t641@v2demo.com",
  "t642@v2demo.com",
  "t643@v2demo.com",
  "t644@v2demo.com",
  "t645@v2demo.com",
  "t646@v2demo.com",
  "t647@v2demo.com",
  "t648@v2demo.com",
  "t649@v2demo.com",
  "t650@v2demo.com",
  "t651@v2demo.com",
  "t652@v2demo.com",
  "t653@v2demo.com",
  "t654@v2demo.com",
  "t655@v2demo.com",
  "t656@v2demo.com",
  "t657@v2demo.com",
  "t658@v2demo.com",
  "t659@v2demo.com",
  "t660@v2demo.com",
  "t661@v2demo.com",
  "t662@v2demo.com",
  "t663@v2demo.com",
  "t664@v2demo.com",
  "t665@v2demo.com",
  "t666@v2demo.com",
  "t667@v2demo.com",
  "t668@v2demo.com",
  "t669@v2demo.com",
  "t670@v2demo.com",
  "t671@v2demo.com",
  "t672@v2demo.com",
  "t673@v2demo.com",
  "t674@v2demo.com",
  "t675@v2demo.com",
  "t676@v2demo.com",
  "t677@v2demo.com",
  "t678@v2demo.com",
  "t679@v2demo.com",
  "t680@v2demo.com",
  "t681@v2demo.com",
  "t682@v2demo.com",
  "t683@v2demo.com",
  "t684@v2demo.com",
  "t685@v2demo.com",
  "t686@v2demo.com",
  "t687@v2demo.com",
  "t688@v2demo.com",
  "t689@v2demo.com",
  "t690@v2demo.com",
  "t691@v2demo.com",
  "t692@v2demo.com",
  "t693@v2demo.com",
  "t694@v2demo.com",
  "t695@v2demo.com",
  "t696@v2demo.com",
  "t697@v2demo.com",
  "t698@v2demo.com",
  "t699@v2demo.com",
  "t700@v2demo.com",
  "t701@v2demo.com",
  "t702@v2demo.com",
  "t703@v2demo.com",
  "t704@v2demo.com",
  "t705@v2demo.com",
  "t706@v2demo.com",
  "t707@v2demo.com",
  "t708@v2demo.com",
  "t709@v2demo.com",
  "t710@v2demo.com",
  "t711@v2demo.com",
  "t712@v2demo.com",
  "t713@v2demo.com",
  "t714@v2demo.com",
  "t715@v2demo.com",
  "t716@v2demo.com",
  "t717@v2demo.com",
  "t718@v2demo.com",
  "t719@v2demo.com",
  "t720@v2demo.com",
  "t721@v2demo.com",
  "t722@v2demo.com",
  "t723@v2demo.com",
  "t724@v2demo.com",
  "t725@v2demo.com",
  "t726@v2demo.com",
  "t727@v2demo.com",
  "t728@v2demo.com",
  "t729@v2demo.com",
  "t730@v2demo.com",
  "t731@v2demo.com",
  "t732@v2demo.com",
  "t733@v2demo.com",
  "t734@v2demo.com",
  "t735@v2demo.com",
  "t736@v2demo.com",
  "t737@v2demo.com",
  "t738@v2demo.com",
  "t739@v2demo.com",
  "t740@v2demo.com",
  "t741@v2demo.com",
  "t742@v2demo.com",
  "t743@v2demo.com",
  "t744@v2demo.com",
  "t745@v2demo.com",
  "t746@v2demo.com",
  "t747@v2demo.com",
  "t748@v2demo.com",
  "t749@v2demo.com",
  "t750@v2demo.com",
  "t751@v2demo.com",
  "t752@v2demo.com",
  "t753@v2demo.com",
  "t754@v2demo.com",
  "t755@v2demo.com",
  "t756@v2demo.com",
  "t757@v2demo.com",
  "t758@v2demo.com",
  "t759@v2demo.com",
  "t760@v2demo.com",
  "t761@v2demo.com",
  "t762@v2demo.com",
  "t763@v2demo.com",
  "t764@v2demo.com",
  "t765@v2demo.com",
  "t766@v2demo.com",
  "t767@v2demo.com",
  "t768@v2demo.com",
  "t769@v2demo.com",
  "t770@v2demo.com",
  "t771@v2demo.com",
  "t772@v2demo.com",
  "t773@v2demo.com",
  "t774@v2demo.com",
  "t775@v2demo.com",
  "t776@v2demo.com",
  "t777@v2demo.com",
  "t778@v2demo.com",
  "t779@v2demo.com",
  "t780@v2demo.com",
  "t781@v2demo.com",
  "t782@v2demo.com",
  "t783@v2demo.com",
  "t784@v2demo.com",
  "t785@v2demo.com",
  "t786@v2demo.com",
  "t787@v2demo.com",
  "t788@v2demo.com",
  "t789@v2demo.com",
  "t790@v2demo.com",
  "t791@v2demo.com",
  "t792@v2demo.com",
  "t793@v2demo.com",
  "t794@v2demo.com",
  "t795@v2demo.com",
  "t796@v2demo.com",
  "t797@v2demo.com",
  "t798@v2demo.com",
  "t799@v2demo.com",
  "t800@v2demo.com",
  "t801@v2demo.com",
  "t802@v2demo.com",
  "t803@v2demo.com",
  "t804@v2demo.com",
  "t805@v2demo.com",
  "t806@v2demo.com",
  "t807@v2demo.com",
  "t808@v2demo.com",
  "t809@v2demo.com",
  "t810@v2demo.com",
  "t811@v2demo.com",
  "t812@v2demo.com",
  "t813@v2demo.com",
  "t814@v2demo.com",
  "t815@v2demo.com",
  "t816@v2demo.com",
  "t817@v2demo.com",
  "t818@v2demo.com",
  "t819@v2demo.com",
  "t820@v2demo.com",
  "t821@v2demo.com",
  "t822@v2demo.com",
  "t823@v2demo.com",
  "t824@v2demo.com",
  "t825@v2demo.com",
  "t826@v2demo.com",
  "t827@v2demo.com",
  "t828@v2demo.com",
  "t829@v2demo.com",
  "t830@v2demo.com",
  "t831@v2demo.com",
  "t832@v2demo.com",
  "t833@v2demo.com",
  "t834@v2demo.com",
  "t835@v2demo.com",
  "t836@v2demo.com",
  "t837@v2demo.com",
  "t838@v2demo.com",
  "t839@v2demo.com",
  "t840@v2demo.com",
  "t841@v2demo.com",
  "t842@v2demo.com",
  "t843@v2demo.com",
  "t844@v2demo.com",
  "t845@v2demo.com",
  "t846@v2demo.com",
  "t847@v2demo.com",
  "t848@v2demo.com",
  "t849@v2demo.com",
  "t850@v2demo.com",
  "t851@v2demo.com",
  "t852@v2demo.com",
  "t853@v2demo.com",
  "t854@v2demo.com",
  "t855@v2demo.com",
  "t856@v2demo.com",
  "t857@v2demo.com",
  "t858@v2demo.com",
  "t859@v2demo.com",
  "t860@v2demo.com",
  "t861@v2demo.com",
  "t862@v2demo.com",
  "t863@v2demo.com",
  "t864@v2demo.com",
  "t865@v2demo.com",
  "t866@v2demo.com",
  "t867@v2demo.com",
  "t868@v2demo.com",
  "t869@v2demo.com",
  "t870@v2demo.com",
  "t871@v2demo.com",
  "t872@v2demo.com",
  "t873@v2demo.com",
  "t874@v2demo.com",
  "t875@v2demo.com",
  "t876@v2demo.com",
  "t877@v2demo.com",
  "t878@v2demo.com",
  "t879@v2demo.com",
  "t880@v2demo.com",
  "t881@v2demo.com",
  "t882@v2demo.com",
  "t883@v2demo.com",
  "t884@v2demo.com",
  "t885@v2demo.com",
  "t886@v2demo.com",
  "t887@v2demo.com",
  "t888@v2demo.com",
  "t889@v2demo.com",
  "t890@v2demo.com",
  "t891@v2demo.com",
  "t892@v2demo.com",
  "t893@v2demo.com",
  "t894@v2demo.com",
  "t895@v2demo.com",
  "t896@v2demo.com",
  "t897@v2demo.com",
  "t898@v2demo.com",
  "t899@v2demo.com",
  "t900@v2demo.com",
  "t901@v2demo.com",
  "t902@v2demo.com",
  "t903@v2demo.com",
  "t904@v2demo.com",
  "t905@v2demo.com",
  "t906@v2demo.com",
  "t907@v2demo.com",
  "t908@v2demo.com",
  "t909@v2demo.com",
  "t910@v2demo.com",
  "t911@v2demo.com",
  "t912@v2demo.com",
  "t913@v2demo.com",
  "t914@v2demo.com",
  "t915@v2demo.com",
  "t916@v2demo.com",
  "t917@v2demo.com",
  "t918@v2demo.com",
  "t919@v2demo.com",
  "t920@v2demo.com",
  "t921@v2demo.com",
  "t922@v2demo.com",
  "t923@v2demo.com",
  "t924@v2demo.com",
  "t925@v2demo.com",
  "t926@v2demo.com",
  "t927@v2demo.com",
  "t928@v2demo.com",
  "t929@v2demo.com",
  "t930@v2demo.com",
  "t931@v2demo.com",
  "t932@v2demo.com",
  "t933@v2demo.com",
  "t934@v2demo.com",
  "t935@v2demo.com",
  "t936@v2demo.com",
  "t937@v2demo.com",
  "t938@v2demo.com",
  "t939@v2demo.com",
  "t940@v2demo.com",
  "t941@v2demo.com",
  "t942@v2demo.com",
  "t943@v2demo.com",
  "t944@v2demo.com",
  "t945@v2demo.com",
  "t946@v2demo.com",
  "t947@v2demo.com",
  "t948@v2demo.com",
  "t949@v2demo.com",
  "t950@v2demo.com",
  "t951@v2demo.com",
  "t952@v2demo.com",
  "t953@v2demo.com",
  "t954@v2demo.com",
  "t955@v2demo.com",
  "t956@v2demo.com",
  "t957@v2demo.com",
  "t958@v2demo.com",
  "t959@v2demo.com",
  "t960@v2demo.com",
  "t961@v2demo.com",
  "t962@v2demo.com",
  "t963@v2demo.com",
  "t964@v2demo.com",
  "t965@v2demo.com",
  "t966@v2demo.com",
  "t967@v2demo.com",
  "t968@v2demo.com",
  "t969@v2demo.com",
  "t970@v2demo.com",
  "t971@v2demo.com",
  "t972@v2demo.com",
  "t973@v2demo.com",
  "t974@v2demo.com",
  "t975@v2demo.com",
  "t976@v2demo.com",
  "t977@v2demo.com",
  "t978@v2demo.com",
  "t979@v2demo.com",
  "t980@v2demo.com",
  "t981@v2demo.com",
  "t982@v2demo.com",
  "t983@v2demo.com",
  "t984@v2demo.com",
  "t985@v2demo.com",
  "t986@v2demo.com",
  "t987@v2demo.com",
  "t988@v2demo.com",
  "t989@v2demo.com",
  "t990@v2demo.com",
  "t991@v2demo.com",
  "t992@v2demo.com",
  "t993@v2demo.com",
  "t994@v2demo.com",
  "t995@v2demo.com",
  "t996@v2demo.com",
  "t997@v2demo.com",
  "t998@v2demo.com",
  "t999@v2demo.com",
  "t1000@v2demo.com",
  "t1001@v2demo.com",
  "t1002@v2demo.com",
  "t1003@v2demo.com",
  "t1004@v2demo.com",
  "t1005@v2demo.com",
  "t1006@v2demo.com",
  "t1007@v2demo.com",
  "t1008@v2demo.com",
  "t1009@v2demo.com",
  "t1010@v2demo.com",
  "t1011@v2demo.com",
  "t1012@v2demo.com",
  "t1013@v2demo.com",
  "t1014@v2demo.com",
  "t1015@v2demo.com",
  "t1016@v2demo.com",
  "t1017@v2demo.com",
  "t1018@v2demo.com",
  "t1019@v2demo.com",
  "t1020@v2demo.com",
  "t1021@v2demo.com",
  "t1022@v2demo.com",
  "t1023@v2demo.com",
  "t1024@v2demo.com",
  "t1025@v2demo.com",
  "t1026@v2demo.com",
  "t1027@v2demo.com",
  "t1028@v2demo.com",
  "t1029@v2demo.com",
  "t1030@v2demo.com",
  "t1031@v2demo.com",
  "t1032@v2demo.com",
  "t1033@v2demo.com",
  "t1034@v2demo.com",
  "t1035@v2demo.com",
  "t1036@v2demo.com",
  "t1037@v2demo.com",
  "t1038@v2demo.com",
  "t1039@v2demo.com",
  "t1040@v2demo.com",
  "t1041@v2demo.com",
  "t1042@v2demo.com",
  "t1043@v2demo.com",
  "t1044@v2demo.com",
  "t1045@v2demo.com",
  "t1046@v2demo.com",
  "t1047@v2demo.com",
  "t1048@v2demo.com",
  "t1049@v2demo.com",
  "t1050@v2demo.com"
];

const password = "edulastic";
/* 
const allTests = [
  "5eb44e7d74efe20008485ab9",
  "5eb505031a5ea200070c704b",
  "5eb5052478662b000878b084",
  "5eb505485d4a9e0008ba0c82",
  "5eb5056c1a5ea200070c704d",
  "5eb505991a5ea200070c704f",
  "5eb505c13c7a0f0007178fae",
  "5eb505ef1a5ea200070c7051",
  "5eb5061c3c7a0f0007178fb0",
  "5eb5064a1a5ea200070c7055",
  "5eb50f0dbaf2450008f5c2b6",
  "5eb50f33269e990008d179d2",
  "5eb50f5a3343aa0008d80baa",
  "5eb50f845a7f7e00087aa8e7",
  "5eb50facf0c20c000736ff61",
  "5eb50fd43e49e40009f2e839",
  "5eb50ffde58c660007be388d",
  "5eb51028269e990008d17a6c",
  "5eb5106834d8fe0007e34289",
  "5eb510917d40a2000872f093",
  "5eb510b80724380009243e7d",
  "5eb510e08e4b660007edecc9",
  "5eb511071f154a0007f7f5ce",
  "5eb5112b34d8fe0007e342e3",
  "5eb511577d40a2000872f128",
  "5eb511827d40a2000872f162",
  "5eb511ac06efe000084687e6",
  "5eb511d81f154a0007f7f63b",
  "5eb51202d5eba70008ba99fb",
  "5eb5122c79e8ae0008533cd2",
  "5eb515e5b5e97400073db100",
  "5eb51614b5e97400073db102",
  "5eb51640e1f00c00070540df",
  "5eb51669e1f00c00070540e1",
  "5eb516950724380009243f44",
  "5eb516bf0724380009243f46",
  "5eb516e9b5e97400073db104",
  "5eb51714b5e97400073db106",
  "5eb5173de1f00c00070540e3",
  "5eb51768e1f00c00070540e5",
  "5eb5179193a19c0007871bc4",
  "5eb517bdb5e97400073db108",
  "5eb517eb93a19c0007871bc6",
  "5eb5181693a19c0007871bc8",
  "5eb5183eb5e97400073db10a",
  "5eb5186c93a19c0007871bca",
  "5eb518980724380009243f48",
  "5eb518c20724380009243f4a",
  "5eb518ede1f00c00070540e7",
  "5eb51914ce61b200070c3b9b"
]; */

const allTests = ["5ec4edec6cd8fb0008e7d4e5", "5ec4cfc7dd933400082dfa9e"];

// allGroups: optional ,only if few specific groups are required from teacher account, to be passed manually
// const allGroups = [
//   "5e8c426b95e32100076d4cc2"
//   // "5e8c47c9b84e0000077f9a5c",
//   // "5e8c483db84e0000077f9a98",
//   // "5e8c486bb84e0000077f9afc",
//   // "5e8c48b5b84e0000077f9b62"
// ];

const allGroups = [];

const metafile = "cypress/fixtures/demo-metadata.json";
const userFile = "cypress/fixtures/demo-students.json";
// const spruserFile = "cypress/fixtures/demo-students-spr.json";

describe("create demo data", () => {
  before("createResetFle", () => {
    cy.writeFile(metafile, {});
    cy.writeFile(userFile, {});
    // cy.writeFile(spruserFile, {});
  });

  it("get metadata for attempts", () => {
    loginUser({ password, email: allTeachers[0] }).then(({ _id, token }) => {
      for (let testId of allTests) {
        getTestData(token, testId).then(testMeta => {
          cy.readFile(`${metafile}`).then(json => {
            console.log("json", json);
            // const data = JSON.parse(json);
            json[testId] = testMeta;
            cy.writeFile(`${metafile}`, json);
          });
        });
      }
    });
  });

  allTeachers.forEach(u => {
    it(`get student  - ${u}`, () => {
      loginUser({ email: u, password }).then(({ _id, token }) => {
        getStudents(token, allGroups).then(s => {
          cy.readFile(`${userFile}`).then(json => {
            console.log("json", json);
            const students = json.students || [];
            // const data = JSON.parse(json);
            json.students = Cypress._.concat(students, s);
            cy.writeFile(`${userFile}`, json);
          });
        });
      });
    });
  });
});
