# File structure

    ├── AudioRecorder
    		|── Microphone.js
    		|── Recorder.js

### Microphone.js

- Microphone instance receives the audio input and config.
- It is responsible for processing the audio, encoding and generating audio of specified type (default - audio/wav)
- It uses service worker to perform above mentioned tasks.
- The exportWAV method will generate a Blob object containing the recording in specified format (default - audio/wav)
- The getBuffer method will pass the recorded stereo buffer (as an array of two Float32Arrays, for the separate left and right channels) to the callback
- It also containes a utility method to download the generated audio

### Recorder.js

var rec = new Recorder(source [, config])
source - The node whose output is required to be captured
config - (optional) A configuration object (see config section below)

- The Recorder instance receives the device audio context and config.
- In the init method this audio context is connected with the audio input.
- The analyzer node is initialiazed.
- Microphone instance is created with initialiazed the audio input and config.
- It also includes start and stop methods which are consumed by the caller instance for starting and stopping the audio recording.

Config

- workerPath - Path to recorder.js worker script. Defaults to 'js/recorderjs/recorderWorker.js'
- bufferLen - The length of the buffer that the internal JavaScriptNode uses to capture the audio. Can be tweaked if experiencing performance issues. Defaults to 4096.
- callback - A default callback to be used with exportWAV.
- type - The type of the Blob generated by exportWAV. Defaults to 'audio/wav'.
